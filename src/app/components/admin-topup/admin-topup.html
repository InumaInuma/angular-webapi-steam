<h2>ðŸ“¥ Recargas pendientes de hoy</h2>

<div class="card" *ngFor="let r of pending">
    <div class="card-header">
        <div>
            <strong>{{ r.email }}</strong>
            <span class="amount">S/ {{ r.amount }}</span>
        </div>

        <div class="actions">
            <button class="approve" (click)="approve(r.requestId)">âœ” Aprobar</button>
            <button class="reject" (click)="reject(r.requestId)">âœ– Rechazar</button>
            <button class="toggle" (click)="toggle(r.requestId)">
                {{ expandedId === r.requestId ? 'â–²' : 'â–¼' }}
            </button>
        </div>
    </div>

    <div class="details" *ngIf="expandedId === r.requestId">
        <p><b>Usuario:</b> {{ r.displayName }}</p>
        <p><b>MÃ©todo:</b> {{ r.paymentMethod }}</p>
        <p><b>Moneda:</b> {{ r.currencyCode }}</p>
        <p><b>Notas:</b> {{ r.notes || 'â€”' }}</p>
        <p>
            <b>Comprobante:</b>
            <a *ngIf="r.evidenceUrl" [href]="r.evidenceUrl" target="_blank">Ver</a>
            <span *ngIf="!r.evidenceUrl">No enviado</span>
        </p>
    </div>
</div>

<p *ngIf="pending.length === 0" class="empty">
    ðŸŽ‰ No hay recargas pendientes hoy
</p>