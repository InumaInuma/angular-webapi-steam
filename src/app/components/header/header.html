<header class="app-header">
    <div class="logo">
        <a routerLink="/pagina-principal">âš¡ Dota2 Marketplace</a>
    </div>

    <nav class="nav-links">
        <!-- Si NO estÃ¡ logeado -->
        <ng-container *ngIf="!isLoggedIn; else loggedMenu">
            <button class="btn login-btn" routerLink="/login">Iniciar sesiÃ³n</button>
            <button class="btn register-btn" [routerLink]="['/login']" [queryParams]="{ register: true }">
                Registrarse
            </button>
        </ng-container>

        <!-- Si estÃ¡ logeado -->
        <ng-template #loggedMenu>
            <ul class="menu">
                <!-- Visible solo para Customers -->

                <li *ngIf="roles.includes('Customer')">
                    <a routerLink="/wallet-history">ðŸ“œ Historial recargas</a>
                </li>

                <li *ngIf="roles.includes('Customer')">
                    <a routerLink="/profile">ðŸ‘¤ Perfil</a>
                </li>

                <li *ngIf="roles.includes('Customer')">
                    <a routerLink="/pending-sales">ðŸ“¦ Ventas Pendientes</a>
                </li>

                <li *ngIf="roles.includes('Customer')">
                    <a routerLink="/order-history">ðŸ“œ Historial Compras/Ventas</a>
                </li>




                <li *ngIf="roles.includes('Customer')">
                    <a routerLink="/dota-items">ðŸŽ® Avatars</a>
                </li>



                <!-- Visible solo para Admins -->
                <li *ngIf="roles.includes('Admin')">
                    <a routerLink="/dashboard">ðŸ“Š Dashboard</a>
                </li>

                <!-- Siempre visible si estÃ¡ logeado -->
                <li>
                    <a (click)="logout()">ðŸšª Logout</a>
                </li>
                <!-- <li *ngIf="roles.includes('Customer')" class="wallet-balance">
                    ðŸ’° <strong>S/ {{ balance | number:'1.2-2' }}</strong>
                </li> -->
                <li *ngIf="roles.includes('Customer')" class="wallet-info">
                    <span class="balance">
                        ðŸ’° {{ balance | number:'1.2-2' }}
                    </span>

                    <button class="btn-topup" routerLink="/topup">
                        âž• Recargar
                    </button>
                </li>

            </ul>
        </ng-template>
    </nav>
</header>