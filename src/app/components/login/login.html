<div class="login-container">
    <div class="login-card">
        <!-- Lado izquierdo -->
        <div class="login-left">
            <div class="overlay">
                <h2 class="overlay-title">
                    {{ isRegisterMode ? 'Crea tu cuenta' : 'Inicia sesi칩n con Steam' }}
                </h2>
            </div>
        </div>

        <!-- Lado derecho -->
        <div class="login-right">
            <h1 class="title">{{ isRegisterMode ? 'Registro' : '춰Hola!' }}</h1>
            <p class="subtitle">
                {{ isRegisterMode ? 'Completa los campos para registrarte' : 'Accede con tu cuenta para continuar' }}
            </p>

            <!-- 游댳 LOGIN -->
            <div *ngIf="!isRegisterMode; else registerForm">


                <!-- Login normal -->
                <form class="form" #loginForm="ngForm" (ngSubmit)="loginWithCredentials(email.value, password.value)">
                    <input type="email" #email="ngModel" name="email" ngModel required email
                        placeholder="Correo electr칩nico" />
                    <div *ngIf="email.invalid && email.touched" class="error">
                        游늷 Ingresa un correo v치lido.
                    </div>
                    <input type="password" #password="ngModel" name="password" ngModel required minlength="6"
                        placeholder="Contrase침a" />
                    <div *ngIf="password.invalid && password.touched" class="error">
                        游늷 La contrase침a debe tener m칤nimo 6 caracteres.
                    </div>
                    <!-- Bot칩n bloqueado si el formulario es inv치lido -->
                    <button type="submit" class="btn-primary" [disabled]="loginForm.invalid">
                        Iniciar sesi칩n
                    </button>
                </form>

                <p class="footer-text">
                    쯅o tienes cuenta?
                    <a href="#" (click)="toggleMode(); $event.preventDefault()">Crea una aqu칤</a>
                </p>
            </div>

            <!-- 游댳 REGISTRO -->
            <ng-template #registerForm>
                <form class="form" #registerForm="ngForm"
                    (ngSubmit)="register(displayName.value, email.value, password.value); $event.preventDefault()">
                    <input type="text" #displayName="ngModel" name="displayName" ngModel required minlength="3"
                        placeholder="Nombre de usuario" />
                    <div *ngIf="displayName.invalid && displayName.touched" class="error">
                        游늷 El nombre debe tener al menos 3 caracteres.
                    </div>
                    <input type="email" #email="ngModel" name="email" ngModel required email
                        placeholder="Correo electr칩nico" />
                    <div *ngIf="email.invalid && email.touched" class="error">
                        游늷 Ingresa un correo v치lido.
                    </div>
                    <input type="password" #password="ngModel" name="password" ngModel required minlength="6"
                        placeholder="Contrase침a" />
                    <div *ngIf="password.invalid && password.touched" class="error">
                        游늷 La contrase침a debe tener m칤nimo 6 caracteres.
                    </div>

                    <!-- Bot칩n bloqueado si el form es inv치lido o las contrase침as no coinciden -->
                    <button type="submit" class="btn-primary" [disabled]="registerForm.invalid ">
                        Registrarse
                    </button>
                </form>

                <p class="footer-text">
                    쯏a tienes cuenta?
                    <a href="#" (click)="toggleMode(); $event.preventDefault()">Inicia sesi칩n aqu칤</a>
                </p>
            </ng-template>
        </div>
    </div>
</div>